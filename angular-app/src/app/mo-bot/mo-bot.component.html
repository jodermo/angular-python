<div class="mo-bot">


  <div class="bot-controls">
    <div *ngIf="!bot.started">
      <h1 >MoBot v0.0.1</h1>
      <p>
        Select your language
      </p>
    </div>

    <select [(ngModel)]="app.language">
      <option *ngFor="let language of app.languages" [ngValue]="language">{{language.name}}</option>
    </select>
    <div class="bot-main-controls">

      <button *ngIf="!bot.started" (click)="startBot()">Start Bot</button>
      <button *ngIf="bot.started" (click)="bot.stop();">Stop Bot</button>

      <app-speech-recognition-button *ngIf="bot.started" [disabled]="openAi.sending"
                                     (onResult)="onSpeechRecognitionResult($event, true); loadResults();"></app-speech-recognition-button>



    </div>

    <div class="bot-container" [ngClass]="{'hidden': (!bot.started)}">
      <app-webcam-preview #webcamElement></app-webcam-preview>
      <app-speech-recognition-info></app-speech-recognition-info>

    </div>

  </div>




  <div class="bot-output" [ngClass]="{'hidden': (!bot.started)}">
    <div>
      <div class="bot-output-text" *ngIf="bot.speechText">
        <b>
          <i>
            "{{bot.speechText}}"
          </i>
        </b>

      </div>
      <app-text-to-speech-button *ngIf="bot.speechText" [text]="bot.speechText"
                                 [autoplay]="true"></app-text-to-speech-button>
    </div>
  </div>

</div>
